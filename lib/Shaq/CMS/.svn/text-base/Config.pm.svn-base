package CMS::Lite::Config;
use strict;
use warnings;
use Config::Multi;
use CMS::Lite::Utils;
use base 'Class::Singleton';

our $FILES;

sub _new_instance {
    my ( $self, %arg ) = @_;
    my $cm = Config::Multi->new(
        {
        dir => CMS::Lite::Utils::path_to('conf')->stringify ,
        app_name    => $arg{app_name} || 'cms',
        extension   => 'yml'
    });
    my $config = $cm->load();
    $FILES = $cm->files;
    return $config;
}

sub files {
    return $FILES;
}

1;

